import{n as e}from"./rolldown-runtime-y2wrX6ue.js";import{C as t,E as n,S as r,a as i,b as a,g as o,h as s,p as c,r as l,u,v as d,y as f}from"./bootstrap-vendor-LDj2otZe.js";import{A as ee,T as te,c as p,d as m,f as h,l as g,m as _,o as v,p as y,r as ne}from"./vendor-6AfST0Cy.js";import{E as re,I as ie,K as b,Q as x,T as ae,V as S,X as C,f as w,lt as T,x as E}from"./fontawesome-vendor-CDyZyS_m.js";import{i as D,r as O}from"./index-Bm7Tf09k.js";var k=e(n(),1),oe=JSON.parse(`[{"id":1,"name":"Velvet Matte Lip","category":"Makeup","price":24,"stock":12,"image":"https://images.unsplash.com/photo-1586495777744-4413f21062fa?auto=format&fit=crop&q=80&w=400"},{"id":2,"name":"Hyaluronic Serum","category":"Skincare","price":45,"stock":8,"image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=400"},{"id":3,"name":"Midnight Rose","category":"Fragrance","price":89,"stock":5,"image":"https://images.unsplash.com/photo-1594035910387-fea477942698?auto=format&fit=crop&q=80&w=400"},{"id":4,"name":"Argan Oil Shampoo","category":"HairCare","price":32,"stock":20,"image":"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?auto=format&fit=crop&q=80&w=400"},{"id":5,"name":"Aloe Vera Gel","category":"Organic","price":18,"stock":35,"image":"https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=400"},{"id":6,"name":"Luminous Foundation","category":"Makeup","price":38,"stock":15,"image":"https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&q=80&w=400"},{"id":7,"name":"Vitamin C Glow","category":"Skincare","price":55,"stock":10,"image":"https://images.unsplash.com/photo-1601049663128-7a19b243a5c8?auto=format&fit=crop&q=80&w=400"},{"id":8,"name":"Vanilla Woods","category":"Fragrance","price":76,"stock":7,"image":"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=400"},{"id":9,"name":"Keratin Mask","category":"HairCare","price":42,"stock":18,"image":"https://images.unsplash.com/photo-1526947425960-945c6e72858f?auto=format&fit=crop&q=80&w=400"},{"id":10,"name":"Bamboo Face Brush","category":"Organic","price":15,"stock":40,"image":"https://images.unsplash.com/photo-1590156424570-698d124ec7dd?auto=format&fit=crop&q=80&w=400"},{"id":11,"name":"Ruby Red Lipstick","category":"Makeup","price":28,"stock":22,"image":"https://images.unsplash.com/photo-1586495777744-4413f21062fa?auto=format&fit=crop&q=80&w=400"},{"id":12,"name":"Night Repair Cream","category":"Skincare","price":65,"stock":6,"image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=400"},{"id":13,"name":"Ocean Breeze","category":"Fragrance","price":82,"stock":9,"image":"https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=400"},{"id":14,"name":"Silk Smooth Conditioner","category":"HairCare","price":30,"stock":25,"image":"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?auto=format&fit=crop&q=80&w=400"},{"id":15,"name":"Organic Shea Butter","category":"Organic","price":22,"stock":30,"image":"https://images.unsplash.com/photo-1556228720-1927731d5b16?auto=format&fit=crop&q=80&w=400"},{"id":16,"name":"Liquid Eyeliner","category":"Makeup","price":18,"stock":45,"image":"https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&q=80&w=400"},{"id":17,"name":"Rose Water Mist","category":"Skincare","price":25,"stock":28,"image":"https://images.unsplash.com/photo-1601049663128-7a19b243a5c8?auto=format&fit=crop&q=80&w=400"},{"id":18,"name":"Amber & Oud","category":"Fragrance","price":95,"stock":4,"image":"https://images.unsplash.com/photo-1594035910387-fea477942698?auto=format&fit=crop&q=80&w=400"},{"id":19,"name":"Volumizing Mousse","category":"HairCare","price":26,"stock":16,"image":"https://images.unsplash.com/photo-1526947425960-945c6e72858f?auto=format&fit=crop&q=80&w=400"},{"id":20,"name":"Lavender Oil","category":"Organic","price":20,"stock":32,"image":"https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=400"},{"id":21,"name":"Satin Blush","category":"Makeup","price":32,"stock":14,"image":"https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&q=80&w=400"},{"id":22,"name":"Clay Mask","category":"Skincare","price":29,"stock":19,"image":"https://images.unsplash.com/photo-1596704017254-9b121068fb31?auto=format&fit=crop&q=80&w=400"},{"id":23,"name":"Citrus Splash","category":"Fragrance","price":68,"stock":11,"image":"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=400"},{"id":24,"name":"Hair Repair Serum","category":"HairCare","price":40,"stock":13,"image":"https://images.unsplash.com/photo-1632512148483-34e8f175440c?auto=format&fit=crop&q=80&w=400"},{"id":25,"name":"Hemp Seed Oil","category":"Organic","price":28,"stock":24,"image":"https://images.unsplash.com/photo-1590156424570-698d124ec7dd?auto=format&fit=crop&q=80&w=400"},{"id":26,"name":"Lengthening Mascara","category":"Makeup","price":22,"stock":38,"image":"https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&q=80&w=400"},{"id":27,"name":"Peptide Eye Cream","category":"Skincare","price":48,"stock":8,"image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=400"},{"id":28,"name":"Jasmine Bloom","category":"Fragrance","price":75,"stock":6,"image":"https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=400"},{"id":29,"name":"Dry Shampoo","category":"HairCare","price":24,"stock":33,"image":"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?auto=format&fit=crop&q=80&w=400"},{"id":30,"name":"Organic Honey Scrub","category":"Organic","price":26,"stock":17,"image":"https://images.unsplash.com/photo-1556228720-1927731d5b16?auto=format&fit=crop&q=80&w=400"},{"id":31,"name":"Bronzing Powder","category":"Makeup","price":36,"stock":12,"image":"https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&q=80&w=400"},{"id":32,"name":"Retinol Booster","category":"Skincare","price":60,"stock":9,"image":"https://images.unsplash.com/photo-1601049663128-7a19b243a5c8?auto=format&fit=crop&q=80&w=400"},{"id":33,"name":"Sandalwood Essence","category":"Fragrance","price":88,"stock":5,"image":"https://images.unsplash.com/photo-1594035910387-fea477942698?auto=format&fit=crop&q=80&w=400"},{"id":34,"name":"Curl Defining Cream","category":"HairCare","price":34,"stock":14,"image":"https://images.unsplash.com/photo-1526947425960-945c6e72858f?auto=format&fit=crop&q=80&w=400"},{"id":35,"name":"Coconut Body Butter","category":"Organic","price":30,"stock":21,"image":"https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=400"},{"id":36,"name":"Highlighter Stick","category":"Makeup","price":26,"stock":19,"image":"https://images.unsplash.com/photo-1586495777744-4413f21062fa?auto=format&fit=crop&q=80&w=400"},{"id":37,"name":"Gentle Cleanser","category":"Skincare","price":28,"stock":26,"image":"https://images.unsplash.com/photo-1596704017254-9b121068fb31?auto=format&fit=crop&q=80&w=400"},{"id":38,"name":"White Musk","category":"Fragrance","price":72,"stock":8,"image":"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=400"},{"id":39,"name":"Heat Protectant","category":"HairCare","price":28,"stock":23,"image":"https://images.unsplash.com/photo-1632512148483-34e8f175440c?auto=format&fit=crop&q=80&w=400"},{"id":40,"name":"Natural Deodorant","category":"Organic","price":16,"stock":34,"image":"https://images.unsplash.com/photo-1590156424570-698d124ec7dd?auto=format&fit=crop&q=80&w=400"},{"id":41,"name":"BB Cream SPF 30","category":"Makeup","price":34,"stock":15,"image":"https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&q=80&w=400"},{"id":42,"name":"Exfoliating Toner","category":"Skincare","price":32,"stock":11,"image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=400"},{"id":43,"name":"Bergamot & Sage","category":"Fragrance","price":78,"stock":7,"image":"https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=400"},{"id":44,"name":"Scalp Scrub","category":"HairCare","price":36,"stock":13,"image":"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?auto=format&fit=crop&q=80&w=400"},{"id":45,"name":"Organic Cotton Pads","category":"Organic","price":10,"stock":50,"image":"https://images.unsplash.com/photo-1556228720-1927731d5b16?auto=format&fit=crop&q=80&w=400"},{"id":46,"name":"Tinted Brow Gel","category":"Makeup","price":20,"stock":29,"image":"https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&q=80&w=400"},{"id":47,"name":"Hydrating Sheet Mask","category":"Skincare","price":8,"stock":42,"image":"https://images.unsplash.com/photo-1601049663128-7a19b243a5c8?auto=format&fit=crop&q=80&w=400"},{"id":48,"name":"Golden Oud","category":"Fragrance","price":110,"stock":3,"image":"https://images.unsplash.com/photo-1594035910387-fea477942698?auto=format&fit=crop&q=80&w=400"},{"id":49,"name":"Anti-Frizz Spray","category":"HairCare","price":25,"stock":18,"image":"https://images.unsplash.com/photo-1526947425960-945c6e72858f?auto=format&fit=crop&q=80&w=400"},{"id":50,"name":"Beeswax Lip Balm","category":"Organic","price":6,"stock":48,"image":"https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=400"},{"id":51,"name":"Setting Powder","category":"Makeup","price":35,"stock":16,"image":"https://images.unsplash.com/photo-1586495777744-4413f21062fa?auto=format&fit=crop&q=80&w=400"},{"id":52,"name":"Facial Oil","category":"Skincare","price":50,"stock":10,"image":"https://images.unsplash.com/photo-1596704017254-9b121068fb31?auto=format&fit=crop&q=80&w=400"},{"id":53,"name":"Patchouli Haze","category":"Fragrance","price":85,"stock":6,"image":"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=400"},{"id":54,"name":"Leave-In Conditioner","category":"HairCare","price":29,"stock":20,"image":"https://images.unsplash.com/photo-1632512148483-34e8f175440c?auto=format&fit=crop&q=80&w=400"},{"id":55,"name":"Jojoba Oil","category":"Organic","price":24,"stock":27,"image":"https://images.unsplash.com/photo-1590156424570-698d124ec7dd?auto=format&fit=crop&q=80&w=400"},{"id":56,"name":"Lip Gloss","category":"Makeup","price":18,"stock":31,"image":"https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&q=80&w=400"},{"id":57,"name":"Brightening Serum","category":"Skincare","price":52,"stock":9,"image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=400"},{"id":58,"name":"Sweet Peony","category":"Fragrance","price":70,"stock":12,"image":"https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=400"},{"id":59,"name":"Hair Spray","category":"HairCare","price":22,"stock":36,"image":"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?auto=format&fit=crop&q=80&w=400"},{"id":60,"name":"Organic Soap Bar","category":"Organic","price":8,"stock":44,"image":"https://images.unsplash.com/photo-1556228720-1927731d5b16?auto=format&fit=crop&q=80&w=400"},{"id":61,"name":"Contour Kit","category":"Makeup","price":42,"stock":14,"image":"https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&q=80&w=400"},{"id":62,"name":"Micellar Water","category":"Skincare","price":18,"stock":30,"image":"https://images.unsplash.com/photo-1601049663128-7a19b243a5c8?auto=format&fit=crop&q=80&w=400"},{"id":63,"name":"Leather & Smoke","category":"Fragrance","price":92,"stock":4,"image":"https://images.unsplash.com/photo-1594035910387-fea477942698?auto=format&fit=crop&q=80&w=400"},{"id":64,"name":"Root Lift Spray","category":"HairCare","price":27,"stock":22,"image":"https://images.unsplash.com/photo-1526947425960-945c6e72858f?auto=format&fit=crop&q=80&w=400"},{"id":65,"name":"Tea Tree Oil","category":"Organic","price":18,"stock":37,"image":"https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=400"},{"id":66,"name":"Eyeshadow Palette","category":"Makeup","price":48,"stock":11,"image":"https://images.unsplash.com/photo-1586495777744-4413f21062fa?auto=format&fit=crop&q=80&w=400"},{"id":67,"name":"Lip Mask","category":"Skincare","price":22,"stock":25,"image":"https://images.unsplash.com/photo-1596704017254-9b121068fb31?auto=format&fit=crop&q=80&w=400"},{"id":68,"name":"Fresh Linen","category":"Fragrance","price":65,"stock":15,"image":"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=400"},{"id":69,"name":"Hair Wax","category":"HairCare","price":24,"stock":19,"image":"https://images.unsplash.com/photo-1632512148483-34e8f175440c?auto=format&fit=crop&q=80&w=400"},{"id":70,"name":"Almond Oil","category":"Organic","price":22,"stock":28,"image":"https://images.unsplash.com/photo-1590156424570-698d124ec7dd?auto=format&fit=crop&q=80&w=400"},{"id":71,"name":"Makeup Sponge","category":"Makeup","price":12,"stock":50,"image":"https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&q=80&w=400"},{"id":72,"name":"Sunscreen SPF 50","category":"Skincare","price":32,"stock":18,"image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=400"},{"id":73,"name":"Cherry Blossom","category":"Fragrance","price":74,"stock":8,"image":"https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=400"},{"id":74,"name":"Detangling Spray","category":"HairCare","price":23,"stock":26,"image":"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?auto=format&fit=crop&q=80&w=400"},{"id":75,"name":"Eucalyptus Mist","category":"Organic","price":18,"stock":33,"image":"https://images.unsplash.com/photo-1556228720-1927731d5b16?auto=format&fit=crop&q=80&w=400"},{"id":76,"name":"Primer","category":"Makeup","price":28,"stock":21,"image":"https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&q=80&w=400"},{"id":77,"name":"Acne Spot Treatment","category":"Skincare","price":20,"stock":24,"image":"https://images.unsplash.com/photo-1601049663128-7a19b243a5c8?auto=format&fit=crop&q=80&w=400"},{"id":78,"name":"Dark Tobacco","category":"Fragrance","price":95,"stock":5,"image":"https://images.unsplash.com/photo-1594035910387-fea477942698?auto=format&fit=crop&q=80&w=400"},{"id":79,"name":"Shine Serum","category":"HairCare","price":30,"stock":13,"image":"https://images.unsplash.com/photo-1526947425960-945c6e72858f?auto=format&fit=crop&q=80&w=400"},{"id":80,"name":"Organic Toothpaste","category":"Organic","price":12,"stock":46,"image":"https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=400"},{"id":81,"name":"Nude Lip Liner","category":"Makeup","price":16,"stock":35,"image":"https://images.unsplash.com/photo-1586495777744-4413f21062fa?auto=format&fit=crop&q=80&w=400"},{"id":82,"name":"Face Mist","category":"Skincare","price":24,"stock":20,"image":"https://images.unsplash.com/photo-1596704017254-9b121068fb31?auto=format&fit=crop&q=80&w=400"},{"id":83,"name":"Green Tea Scent","category":"Fragrance","price":60,"stock":17,"image":"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=400"},{"id":84,"name":"Hair Mousse","category":"HairCare","price":26,"stock":14,"image":"https://images.unsplash.com/photo-1632512148483-34e8f175440c?auto=format&fit=crop&q=80&w=400"},{"id":85,"name":"Castor Oil","category":"Organic","price":18,"stock":31,"image":"https://images.unsplash.com/photo-1590156424570-698d124ec7dd?auto=format&fit=crop&q=80&w=400"},{"id":86,"name":"Setting Spray","category":"Makeup","price":28,"stock":23,"image":"https://images.unsplash.com/photo-1631729371254-42c2892f0e6e?auto=format&fit=crop&q=80&w=400"},{"id":87,"name":"Collagen Cream","category":"Skincare","price":58,"stock":9,"image":"https://images.unsplash.com/photo-1620916566398-39f1143ab7be?auto=format&fit=crop&q=80&w=400"},{"id":88,"name":"Wild Orchid","category":"Fragrance","price":82,"stock":7,"image":"https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80&w=400"},{"id":89,"name":"Color Protect Shampoo","category":"HairCare","price":34,"stock":16,"image":"https://images.unsplash.com/photo-1535585209827-a15fcdbc4c2d?auto=format&fit=crop&q=80&w=400"},{"id":90,"name":"Rose Hip Oil","category":"Organic","price":32,"stock":19,"image":"https://images.unsplash.com/photo-1556228720-1927731d5b16?auto=format&fit=crop&q=80&w=400"},{"id":91,"name":"Stick Foundation","category":"Makeup","price":36,"stock":13,"image":"https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?auto=format&fit=crop&q=80&w=400"},{"id":92,"name":"Gel Cleanser","category":"Skincare","price":26,"stock":25,"image":"https://images.unsplash.com/photo-1601049663128-7a19b243a5c8?auto=format&fit=crop&q=80&w=400"},{"id":93,"name":"Cedar & Spice","category":"Fragrance","price":86,"stock":6,"image":"https://images.unsplash.com/photo-1594035910387-fea477942698?auto=format&fit=crop&q=80&w=400"},{"id":94,"name":"Hair Clay","category":"HairCare","price":24,"stock":22,"image":"https://images.unsplash.com/photo-1526947425960-945c6e72858f?auto=format&fit=crop&q=80&w=400"},{"id":95,"name":"Grape Seed Oil","category":"Organic","price":20,"stock":29,"image":"https://images.unsplash.com/photo-1608248597279-f99d160bfbc8?auto=format&fit=crop&q=80&w=400"},{"id":96,"name":"Liquid Blush","category":"Makeup","price":24,"stock":27,"image":"https://images.unsplash.com/photo-1586495777744-4413f21062fa?auto=format&fit=crop&q=80&w=400"},{"id":97,"name":"Peel-Off Mask","category":"Skincare","price":22,"stock":30,"image":"https://images.unsplash.com/photo-1596704017254-9b121068fb31?auto=format&fit=crop&q=80&w=400"},{"id":98,"name":"Sea Salt Spray","category":"HairCare","price":22,"stock":34,"image":"https://images.unsplash.com/photo-1592945403244-b3fbafd7f539?auto=format&fit=crop&q=80&w=400"},{"id":99,"name":"Citrus Body Wash","category":"Organic","price":16,"stock":42,"image":"https://images.unsplash.com/photo-1632512148483-34e8f175440c?auto=format&fit=crop&q=80&w=400"},{"id":100,"name":"Shimmer Palette","category":"Makeup","price":45,"stock":0,"image":"https://images.unsplash.com/photo-1590156424570-698d124ec7dd?auto=format&fit=crop&q=80&w=400"},{"id":101,"name":"Coco-Shea Body Lotion","category":"Body Care","price":24,"stock":18,"image":"https://images.unsplash.com/photo-1612817288484-6f916006741a?auto=format&fit=crop&q=80&w=400"},{"id":102,"name":"Sea Salt Body Scrub","category":"Body Care","price":19,"stock":25,"image":"https://images.unsplash.com/photo-1608248547020-0086c8d1796c?auto=format&fit=crop&q=80&w=400"},{"id":103,"name":"Lavender Dream Bath Oil","category":"Body Care","price":28,"stock":2,"image":"https://images.unsplash.com/photo-1601612628452-9e99ced43524?auto=format&fit=crop&q=80&w=400"}]`),A=t();function j(){let{currentUser:e,logout:t,loading:n}=O(),j=ee(),[M,N]=(0,k.useState)(null),[P,F]=(0,k.useState)([]),[I,L]=(0,k.useState)(!0),[R,z]=(0,k.useState)(`android`),[B,V]=(0,k.useState)(!1),[H,U]=(0,k.useState)(``),[W,G]=(0,k.useState)(``),[K,q]=(0,k.useState)(``),[J,Y]=(0,k.useState)(``),[se,X]=(0,k.useState)(!1),[Z,Q]=(0,k.useState)(!1);(0,k.useEffect)(()=>{let e=navigator.userAgent.toLowerCase();/iphone|ipad|ipod|macintosh/.test(e)?z(`apple`):z(`android`)},[]),(0,k.useEffect)(()=>{if(n)return;if(!e){j(`/login`);return}L(!0);let t=(async()=>v(_(D,`user_profiles`,e.uid),async t=>{if(t.exists()){let e=t.data();N(e),U(e.name||``),Y(e.phone||``),G(e.address||``),q(e.city||``)}else{let t=await ne(_(D,`users`,e.uid));if(t.exists()){let e=t.data();N(e),U(e.name||e.displayName||``),Y(e.phone||e.phoneNumber||``),G(e.address||``),q(e.city||``)}else N(null),U(e.displayName||``),Y(e.phoneNumber||``)}}))(),r=v(p(y(D,`orders`),m(`userId`,`==`,e.uid)),e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));t.sort((e,t)=>{let n=e.createdAt?.seconds||0;return(t.createdAt?.seconds||0)-n}),F(t),L(!1)},e=>{console.warn(`Orders error:`,e),L(!1)});return()=>{t.then(e=>e&&e()),r()}},[e,n,j]);let ce=async()=>{await t(),j(`/login`)},le=async()=>{X(!0);try{await g(_(D,`user_profiles`,e.uid),{name:H,phone:J,address:W,city:K,email:e.email},{merge:!0}),V(!1)}catch{alert(`Failed to save changes.`)}X(!1)},ue=async()=>{if(window.confirm(`Upload products?`)){Q(!0);try{let e=h(D);oe.forEach(t=>{let n=_(D,`products`,String(t.id));e.set(n,t,{merge:!0})}),await e.commit(),alert(`Synced!`)}catch(e){alert(`Error: `+e.message)}Q(!1)}},de=e=>e?(e.seconds?new Date(e.seconds*1e3):new Date(e)).toLocaleDateString():``;if(I||n)return(0,A.jsx)(`div`,{className:`d-flex justify-content-center align-items-center vh-100`,children:(0,A.jsx)(r,{animation:`border`,variant:`danger`})});let fe=`style-${R}`,$=M?.name||M?.displayName||e?.displayName||`User`,pe=M?.phone||M?.phoneNumber||e?.phoneNumber||`No phone linked`,me=M?.city||`No city set`,he=M?.address||`No address set`;return(0,A.jsxs)(`div`,{className:`dashboard-page ${fe}`,children:[(0,A.jsxs)(s,{className:`py-5`,children:[(0,A.jsxs)(`div`,{className:`d-flex justify-content-between align-items-center mb-4 pt-4`,children:[(0,A.jsxs)(`div`,{children:[(0,A.jsx)(`h2`,{className:`chic-heading mb-0`,children:`My Account`}),(0,A.jsxs)(`p`,{className:`text-muted small`,children:[`Welcome back, `,$,`!`]})]}),(0,A.jsxs)(f,{variant:`outline-danger`,className:`chic-logout-btn`,onClick:ce,children:[(0,A.jsx)(T,{icon:x}),` `,(0,A.jsx)(`span`,{className:`d-none d-md-inline ms-2`,children:`Logout`})]})]}),(0,A.jsxs)(i,{className:`g-4`,children:[(0,A.jsx)(o,{lg:4,md:5,children:(0,A.jsx)(d,{className:`chic-card profile-card h-100`,children:(0,A.jsxs)(d.Body,{className:`text-center p-4`,children:[(0,A.jsx)(`div`,{className:`profile-avatar mb-3`,children:$.charAt(0).toUpperCase()}),(0,A.jsx)(`h4`,{className:`fw-bold mb-1`,children:$}),(0,A.jsx)(`p`,{className:`text-muted small mb-4`,children:M?.role===`admin`?`Administrator`:`Valued Customer`}),(0,A.jsxs)(`div`,{className:`info-list text-start`,children:[(0,A.jsxs)(`div`,{className:`info-item`,children:[(0,A.jsx)(T,{icon:b,className:`chic-icon`}),(0,A.jsx)(`span`,{children:pe})]}),(0,A.jsxs)(`div`,{className:`info-item`,children:[(0,A.jsx)(T,{icon:E,className:`chic-icon`}),(0,A.jsx)(`span`,{children:me})]}),(0,A.jsxs)(`div`,{className:`info-item`,children:[(0,A.jsx)(T,{icon:S,className:`chic-icon`}),(0,A.jsx)(`span`,{children:he})]})]}),(0,A.jsxs)(f,{className:`w-100 chic-btn mt-4`,onClick:()=>V(!0),children:[(0,A.jsx)(T,{icon:re,className:`me-2`}),` Edit Profile`]}),e?.phoneNumber===`+8801772535776`&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(`hr`,{className:`my-4`}),(0,A.jsxs)(f,{variant:`outline-dark`,size:`sm`,className:`w-100`,onClick:ue,disabled:Z,children:[(0,A.jsx)(T,{icon:ae,className:`me-2`}),Z?`Uploading...`:`Admin: Sync Products`]})]})]})})}),(0,A.jsxs)(o,{lg:8,md:7,children:[(0,A.jsx)(i,{className:`g-3 mb-4`,children:(0,A.jsx)(o,{sm:6,children:(0,A.jsx)(d,{className:`chic-card stat-card`,children:(0,A.jsxs)(d.Body,{className:`d-flex align-items-center`,children:[(0,A.jsx)(`div`,{className:`stat-icon-bg`,children:(0,A.jsx)(T,{icon:C})}),(0,A.jsxs)(`div`,{className:`ms-3`,children:[(0,A.jsx)(`h3`,{className:`m-0 fw-bold`,children:P.length}),(0,A.jsx)(`span`,{className:`text-muted small`,children:`Total Orders`})]})]})})})}),(0,A.jsxs)(d,{className:`chic-card h-auto`,children:[(0,A.jsx)(d.Header,{className:`bg-transparent border-0 pt-4 px-4 d-flex justify-content-between align-items-center`,children:(0,A.jsx)(`h5`,{className:`fw-bold m-0 text-dark`,children:`Recent Orders`})}),(0,A.jsx)(d.Body,{className:`px-4 pb-4`,children:P.length===0?(0,A.jsxs)(`div`,{className:`text-center py-5 empty-state`,children:[(0,A.jsx)(`div`,{className:`mb-3 text-muted opacity-50`,children:(0,A.jsx)(T,{icon:C,size:`3x`})}),(0,A.jsx)(`h6`,{children:`No orders yet`}),(0,A.jsx)(`p`,{className:`text-muted small`,children:`Start shopping to see your orders here.`}),(0,A.jsx)(f,{variant:`outline-dark`,className:`rounded-pill px-4 mt-2`,onClick:()=>j(`/shop`),children:`Start Shopping`})]}):(0,A.jsx)(`div`,{className:`table-responsive`,children:(0,A.jsxs)(l,{hover:!0,className:`align-middle`,children:[(0,A.jsx)(`thead`,{className:`bg-light small text-muted`,children:(0,A.jsxs)(`tr`,{children:[(0,A.jsx)(`th`,{children:`Order No.`}),(0,A.jsx)(`th`,{children:`Date`}),(0,A.jsx)(`th`,{children:`Total`}),(0,A.jsx)(`th`,{children:`Status`}),(0,A.jsx)(`th`,{children:`Items`})]})}),(0,A.jsx)(`tbody`,{children:P.map(e=>(0,A.jsxs)(`tr`,{children:[(0,A.jsx)(`td`,{children:(0,A.jsx)(te,{to:`/order/${e.id}`,className:`text-decoration-none`,children:(0,A.jsxs)(a,{bg:`light`,text:`primary`,className:`border fw-normal p-2 order-badge-link`,children:[(0,A.jsx)(T,{icon:ie,className:`me-1 text-secondary opacity-50`}),(0,A.jsx)(`span`,{className:`fw-bold`,style:{fontSize:`0.9rem`},children:e.trackingId||e.id})]})})}),(0,A.jsx)(`td`,{children:de(e.createdAt)}),(0,A.jsxs)(`td`,{className:`fw-bold`,children:[`$`,e.totalAmount?.toFixed(2)]}),(0,A.jsx)(`td`,{children:(0,A.jsx)(a,{bg:e.status===`Pending`?`warning`:`success`,text:e.status===`Pending`?`dark`:`white`,children:e.status})}),(0,A.jsx)(`td`,{children:(0,A.jsxs)(`div`,{className:`d-flex align-items-center`,children:[(0,A.jsx)(T,{icon:w,className:`text-muted me-2`}),e.items?.length||0]})})]},e.id))})]})})})]})]})]})]}),(0,A.jsxs)(u,{show:B,onHide:()=>V(!1),centered:!0,contentClassName:`chic-modal`,children:[(0,A.jsx)(u.Header,{closeButton:!0,className:`border-0`,children:(0,A.jsx)(u.Title,{className:`fw-bold h5`,children:`Edit Profile`})}),(0,A.jsx)(u.Body,{children:(0,A.jsxs)(c,{children:[(0,A.jsxs)(c.Group,{className:`mb-3`,children:[(0,A.jsx)(c.Label,{className:`small fw-bold text-muted`,children:`Display Name`}),(0,A.jsx)(c.Control,{type:`text`,value:H,onChange:e=>U(e.target.value),className:`chic-input`})]}),(0,A.jsxs)(c.Group,{className:`mb-3`,children:[(0,A.jsx)(c.Label,{className:`small fw-bold text-muted`,children:`Phone Number`}),(0,A.jsx)(c.Control,{type:`tel`,value:J,onChange:e=>Y(e.target.value),className:`chic-input`})]}),(0,A.jsxs)(c.Group,{className:`mb-3`,children:[(0,A.jsx)(c.Label,{className:`small fw-bold text-muted`,children:`City`}),(0,A.jsx)(c.Control,{type:`text`,value:K,onChange:e=>q(e.target.value),className:`chic-input`})]}),(0,A.jsxs)(c.Group,{className:`mb-3`,children:[(0,A.jsx)(c.Label,{className:`small fw-bold text-muted`,children:`Address`}),(0,A.jsx)(c.Control,{as:`textarea`,rows:3,value:W,onChange:e=>G(e.target.value),className:`chic-input`})]})]})}),(0,A.jsxs)(u.Footer,{className:`border-0`,children:[(0,A.jsx)(f,{variant:`link`,className:`text-muted text-decoration-none`,onClick:()=>V(!1),children:`Cancel`}),(0,A.jsx)(f,{className:`chic-btn px-4`,onClick:le,disabled:se,children:`Save`})]})]})]})}export{j as default};