import{n as e}from"./rolldown-runtime-y2wrX6ue.js";import{C as t,E as n,S as r,a as i,b as a,g as o,h as s,r as c,v as l,y as u}from"./bootstrap-vendor-LDj2otZe.js";import{T as d,j as f,m as p,r as m}from"./vendor-6AfST0Cy.js";import{C as h,J as g,K as _,V as v,h as y,lt as b,o as x,st as S}from"./fontawesome-vendor-CDyZyS_m.js";import{i as C}from"./index-Bm7Tf09k.js";var w=e(n(),1),T=t(),E=({theme:e})=>{let{orderId:t}=f(),[n,E]=(0,w.useState)(null),[D,O]=(0,w.useState)(!0);(0,w.useEffect)(()=>{(async()=>{try{let e=await m(p(C,`orders`,t));e.exists()?E({id:e.id,...e.data()}):E(null)}catch(e){console.error(`Error fetching order:`,e)}finally{O(!1)}})()},[t]);let k=e=>{if(!e)return``;let t=e.seconds?new Date(e.seconds*1e3):new Date(e);return t.toLocaleDateString()+` `+t.toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})};if(D)return(0,T.jsx)(`div`,{className:`d-flex justify-content-center align-items-center vh-100`,children:(0,T.jsx)(r,{animation:`border`,variant:`danger`})});if(!n)return(0,T.jsxs)(s,{className:`py-5 text-center mt-5`,children:[(0,T.jsx)(`h2`,{children:`Order Not Found`}),(0,T.jsxs)(`p`,{className:`text-muted`,children:[`We couldn't find an order with ID #`,t]}),(0,T.jsx)(d,{to:`/dashboard`,className:`btn btn-dark mt-3`,children:`Back to Dashboard`})]});let{userDetails:A,items:j}=n;return(0,T.jsx)(`div`,{className:`order-details-page theme-${e}`,style:{backgroundColor:`#f8f9fa`,minHeight:`100vh`},children:(0,T.jsxs)(s,{className:`pt-5 pb-5`,children:[(0,T.jsx)(`div`,{className:`pt-5`,children:(0,T.jsxs)(`div`,{className:`d-flex justify-content-between align-items-center mb-4 pt-4`,children:[(0,T.jsxs)(d,{to:`/dashboard`,className:`text-decoration-none text-muted fw-bold`,children:[(0,T.jsx)(b,{icon:x,className:`me-2`}),` Back to Dashboard`]}),(0,T.jsxs)(u,{variant:`outline-dark`,size:`sm`,onClick:()=>window.print(),children:[(0,T.jsx)(b,{icon:g,className:`me-2`}),` Print Invoice`]})]})}),(0,T.jsxs)(i,{className:`g-4`,children:[(0,T.jsx)(o,{lg:8,children:(0,T.jsxs)(l,{className:`border-0 shadow-sm mb-4`,children:[(0,T.jsxs)(l.Header,{className:`bg-white py-3 d-flex justify-content-between align-items-center`,children:[(0,T.jsxs)(`div`,{children:[(0,T.jsxs)(`h5`,{className:`mb-1 fw-bold`,children:[`Order #`,n.trackingId||n.id]}),(0,T.jsx)(`small`,{className:`text-muted`,children:k(n.createdAt)})]}),(0,T.jsx)(a,{bg:n.status===`Pending`?`warning`:`success`,text:n.status===`Pending`?`dark`:`white`,className:`px-3 py-2`,children:n.status})]}),(0,T.jsx)(l.Body,{className:`p-0`,children:(0,T.jsxs)(c,{responsive:!0,className:`mb-0 align-middle`,children:[(0,T.jsx)(`thead`,{className:`bg-light text-muted small`,children:(0,T.jsxs)(`tr`,{children:[(0,T.jsx)(`th`,{className:`ps-4 py-3`,children:`Product`}),(0,T.jsx)(`th`,{className:`text-center`,children:`Price`}),(0,T.jsx)(`th`,{className:`text-center`,children:`Qty`}),(0,T.jsx)(`th`,{className:`text-end pe-4`,children:`Total`})]})}),(0,T.jsx)(`tbody`,{children:j.map((e,t)=>(0,T.jsxs)(`tr`,{children:[(0,T.jsx)(`td`,{className:`ps-4 py-3`,children:(0,T.jsxs)(`div`,{className:`d-flex align-items-center`,children:[(0,T.jsx)(`div`,{className:`rounded border overflow-hidden me-3`,style:{width:`60px`,height:`60px`},children:(0,T.jsx)(`img`,{src:e.image,alt:e.name,className:`w-100 h-100 object-fit-cover`})}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`h6`,{className:`mb-0 text-dark`,children:e.name}),(0,T.jsx)(`small`,{className:`text-muted`,children:e.category})]})]})}),(0,T.jsxs)(`td`,{className:`text-center`,children:[`$`,e.price]}),(0,T.jsx)(`td`,{className:`text-center`,children:e.quantity}),(0,T.jsxs)(`td`,{className:`text-end pe-4 fw-bold`,children:[`$`,(e.price*e.quantity).toFixed(2)]})]},t))})]})}),(0,T.jsx)(l.Footer,{className:`bg-white p-4`,children:(0,T.jsx)(`div`,{className:`d-flex justify-content-end`,children:(0,T.jsxs)(`div`,{style:{minWidth:`250px`},children:[(0,T.jsxs)(`div`,{className:`d-flex justify-content-between mb-2`,children:[(0,T.jsx)(`span`,{className:`text-muted`,children:`Subtotal`}),(0,T.jsxs)(`span`,{children:[`$`,n.totalAmount.toFixed(2)]})]}),(0,T.jsxs)(`div`,{className:`d-flex justify-content-between mb-2`,children:[(0,T.jsx)(`span`,{className:`text-muted`,children:`Shipping`}),(0,T.jsx)(`span`,{className:`text-success`,children:`Free`})]}),(0,T.jsx)(`hr`,{}),(0,T.jsxs)(`div`,{className:`d-flex justify-content-between align-items-center`,children:[(0,T.jsx)(`h5`,{className:`fw-bold mb-0`,children:`Total`}),(0,T.jsxs)(`h4`,{className:`fw-bold text-primary mb-0`,children:[`$`,n.totalAmount.toFixed(2)]})]})]})})})]})}),(0,T.jsxs)(o,{lg:4,children:[(0,T.jsxs)(l,{className:`border-0 shadow-sm mb-4`,children:[(0,T.jsx)(l.Header,{className:`bg-white py-3`,children:(0,T.jsx)(`h6`,{className:`mb-0 fw-bold`,children:`Customer Details`})}),(0,T.jsxs)(l.Body,{className:`p-4`,children:[(0,T.jsxs)(`div`,{className:`mb-3 d-flex align-items-start`,children:[(0,T.jsx)(b,{icon:S,className:`text-muted mt-1 me-3`}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`small`,{className:`text-muted d-block`,children:`Name`}),(0,T.jsx)(`strong`,{children:A.fullName})]})]}),(0,T.jsxs)(`div`,{className:`mb-3 d-flex align-items-start`,children:[(0,T.jsx)(b,{icon:_,className:`text-muted mt-1 me-3`}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`small`,{className:`text-muted d-block`,children:`Phone`}),(0,T.jsx)(`span`,{children:A.phone})]})]}),(0,T.jsxs)(`div`,{className:`d-flex align-items-start`,children:[(0,T.jsx)(b,{icon:v,className:`text-muted mt-1 me-3`}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`small`,{className:`text-muted d-block`,children:`Shipping Address`}),(0,T.jsx)(`span`,{children:A.address}),(0,T.jsx)(`br`,{}),(0,T.jsx)(a,{bg:`light`,text:`dark`,className:`border mt-1`,children:A.city})]})]})]})]}),(0,T.jsxs)(l,{className:`border-0 shadow-sm`,children:[(0,T.jsx)(l.Header,{className:`bg-white py-3`,children:(0,T.jsx)(`h6`,{className:`mb-0 fw-bold`,children:`Payment Info`})}),(0,T.jsxs)(l.Body,{className:`p-4`,children:[(0,T.jsxs)(`div`,{className:`mb-3 d-flex align-items-start`,children:[(0,T.jsx)(b,{icon:y,className:`text-muted mt-1 me-3`}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`small`,{className:`text-muted d-block`,children:`Date Placed`}),(0,T.jsx)(`span`,{children:k(n.createdAt)})]})]}),(0,T.jsxs)(`div`,{className:`d-flex align-items-start`,children:[(0,T.jsx)(b,{icon:h,className:`text-muted mt-1 me-3`}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`small`,{className:`text-muted d-block`,children:`Payment Method`}),(0,T.jsx)(`span`,{className:`text-capitalize`,children:A.paymentMethod||`COD`})]})]})]})]})]})]})]})})};export{E as default};